<h2>Login</h2>

<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="login()">Login</button>

<script src="js/auth.js"></script>
<script>
async function login() {
    const data = {
        email: document.getElementById("email").value,
        password: document.getElementById("password").value
    };

    const res = await fetch(API + "/login", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(data)
    });

    const out = await res.json();

    if (out.token) {
        saveToken(out.token);
        window.location.href = "upload.html";  // user logged in
    } else {
        alert(out.error);
    }
}
</script>
